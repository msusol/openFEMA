<?php
// Implements hook_init()
function openfema_init () {

}

// Implements hook_menu()
function openfema_menu () {

    $items['vis_1'] = array(
        'title' => 'Fire Data Chlorepeth',
        'page callback' => 'openfema_chlorepeth',
        'access callback' => TRUE,
        'type' => MENU_NORMAL_ITEM
    );

    $items['vis_2'] = array(
        'title' => 'Basic Bar',
        'page callback' => 'openfema_basic_bar',
        'access callback' => TRUE,
        'type' => MENU_NORMAL_ITEM
    );

    return $items;
}

function openfema_chlorepeth() {

    $path = drupal_get_path('module', 'openfema');

    // pass data to javascript
    $add_js = array();
    $add_js['openfema'] = array('d_path' => $path.'/d/');

    drupal_add_js($add_js, 'setting');

    // needed for D3, advanced sliders etc.
    drupal_add_library('addlibraries','d3.v3');
    drupal_add_library('addlibraries','jQueryUI_1.9');

    drupal_add_css($path.'/css/style.css');
    drupal_add_js($path.'/js/queue.v1.min.js');
    drupal_add_js($path.'/js/topojson.v1.min.js');
    drupal_add_js($path.'/js/chlorepeth.js',   array('scope' => 'footer'));

    $content = '<container></container>';

    return $content;
}

function openfema_basic_bar() {

    $path = drupal_get_path('module', 'openfema');

    // pass data to javascript
    $add_js = array();
    $add_js['openfema'] = array('d_path' => $path.'/d/');

    drupal_add_js($add_js, 'setting');

    // needed for D3, advanced sliders etc.
    drupal_add_library('addlibraries','d3.v3');
    drupal_add_library('addlibraries','jQueryUI_1.9');

    drupal_add_css($path.'/css/style.css');
    drupal_add_js($path.'/js/basicbar.js',   array('scope' => 'footer'));

    $content = '<container></container>';

    return $content;
}